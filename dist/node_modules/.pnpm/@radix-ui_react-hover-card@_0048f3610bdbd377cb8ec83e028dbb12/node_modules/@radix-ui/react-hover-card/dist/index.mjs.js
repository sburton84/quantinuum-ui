'use client';
import*as e from"react";import{composeEventHandlers as r}from"../../../../../@radix-ui_primitive@1.1.3/node_modules/@radix-ui/primitive/dist/index.mjs.js";import{createContextScope as t}from"../../../../../@radix-ui_react-context@1.1_013791a088c4fd00402cc5bf12a3fc8d/node_modules/@radix-ui/react-context/dist/index.mjs.js";import{useControllableState as o}from"../../../../../@radix-ui_react-use-control_0b34401ea70cad34f098c9d931d840c9/node_modules/@radix-ui/react-use-controllable-state/dist/index.mjs.js";import{useComposedRefs as n}from"../../../../../@radix-ui_react-compose-ref_531e21d4c5e41774790b7ade2915befe/node_modules/@radix-ui/react-compose-refs/dist/index.mjs.js";import{createPopperScope as i,Anchor as a,Content as s,Arrow as d,Root as c}from"../../../../../@radix-ui_react-popper@1.2._670e32d9a64ee24e3a22b3ad7ddf00ff/node_modules/@radix-ui/react-popper/dist/index.mjs.js";import{Presence as u}from"../../../../../@radix-ui_react-presence@1._f4bce12bb8d2a0530a33b49f48bbe93f/node_modules/@radix-ui/react-presence/dist/index.mjs.js";import{Primitive as l}from"../../../../../@radix-ui_react-primitive@2_8827551f88f8a44c5b480e0d8a5a4518/node_modules/@radix-ui/react-primitive/dist/index.mjs.js";import{DismissableLayer as p}from"../../../../../@radix-ui_react-dismissable_5d000c10c02cdc0d4dacfce3cf09d956/node_modules/@radix-ui/react-dismissable-layer/dist/index.mjs.js";import{jsx as f}from"react/jsx-runtime";var m,v="HoverCard",[x,h]=t(v,[i]),_=i(),[C,b]=x(v),w=r=>{const{__scopeHoverCard:t,children:n,open:i,defaultOpen:a,onOpenChange:s,openDelay:d=700,closeDelay:u=300}=r,l=_(t),p=e.useRef(0),m=e.useRef(0),x=e.useRef(!1),h=e.useRef(!1),[b,w]=o({prop:i,defaultProp:a??!1,onChange:s,caller:v}),R=e.useCallback(()=>{clearTimeout(m.current),p.current=window.setTimeout(()=>w(!0),d)},[d,w]),P=e.useCallback(()=>{clearTimeout(p.current),x.current||h.current||(m.current=window.setTimeout(()=>w(!1),u))},[u,w]),E=e.useCallback(()=>w(!1),[w]);return e.useEffect(()=>()=>{clearTimeout(p.current),clearTimeout(m.current)},[]),f(C,{scope:t,open:b,onOpenChange:w,onOpen:R,onClose:P,onDismiss:E,hasSelectionRef:x,isPointerDownOnContentRef:h,children:f(c,{...l,children:n})})};w.displayName=v;var R="HoverCardTrigger",P=e.forwardRef((e,t)=>{const{__scopeHoverCard:o,...n}=e,i=b(R,o),s=_(o);return f(a,{asChild:!0,...s,children:f(l.a,{"data-state":i.open?"open":"closed",...n,ref:t,onPointerEnter:r(e.onPointerEnter,j(i.onOpen)),onPointerLeave:r(e.onPointerLeave,j(i.onClose)),onFocus:r(e.onFocus,i.onOpen),onBlur:r(e.onBlur,i.onClose),onTouchStart:r(e.onTouchStart,e=>e.preventDefault())})})});P.displayName=R;var[E,O]=x("HoverCardPortal",{forceMount:void 0}),S="HoverCardContent",g=e.forwardRef((e,t)=>{const o=O(S,e.__scopeHoverCard),{forceMount:n=o.forceMount,...i}=e,a=b(S,e.__scopeHoverCard);return f(u,{present:n||a.open,children:f(y,{"data-state":a.open?"open":"closed",...i,onPointerEnter:r(e.onPointerEnter,j(a.onOpen)),onPointerLeave:r(e.onPointerLeave,j(a.onClose)),ref:t})})});g.displayName=S;var y=e.forwardRef((t,o)=>{const{__scopeHoverCard:i,onEscapeKeyDown:a,onPointerDownOutside:d,onFocusOutside:c,onInteractOutside:u,...l}=t,v=b(S,i),x=_(i),h=e.useRef(null),C=n(o,h),[w,R]=e.useState(!1);return e.useEffect(()=>{if(w){const e=document.body;return m=e.style.userSelect||e.style.webkitUserSelect,e.style.userSelect="none",e.style.webkitUserSelect="none",()=>{e.style.userSelect=m,e.style.webkitUserSelect=m}}},[w]),e.useEffect(()=>{if(h.current){const e=()=>{R(!1),v.isPointerDownOnContentRef.current=!1,setTimeout(()=>{""!==document.getSelection()?.toString()&&(v.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",e),()=>{document.removeEventListener("pointerup",e),v.hasSelectionRef.current=!1,v.isPointerDownOnContentRef.current=!1}}},[v.isPointerDownOnContentRef,v.hasSelectionRef]),e.useEffect(()=>{if(h.current){(function(e){const r=[],t=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;t.nextNode();)r.push(t.currentNode);return r})(h.current).forEach(e=>e.setAttribute("tabindex","-1"))}}),f(p,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:u,onEscapeKeyDown:a,onPointerDownOutside:d,onFocusOutside:r(c,e=>{e.preventDefault()}),onDismiss:v.onDismiss,children:f(s,{...x,...l,onPointerDown:r(l.onPointerDown,e=>{e.currentTarget.contains(e.target)&&R(!0),v.hasSelectionRef.current=!1,v.isPointerDownOnContentRef.current=!0}),ref:C,style:{...l.style,userSelect:w?"text":void 0,WebkitUserSelect:w?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),D=e.forwardRef((e,r)=>{const{__scopeHoverCard:t,...o}=e,n=_(t);return f(d,{...n,...o,ref:r})});function j(e){return r=>"touch"===r.pointerType?void 0:e()}D.displayName="HoverCardArrow";var T=w,H=P,N=g;export{N as Content,w as HoverCard,D as HoverCardArrow,g as HoverCardContent,P as HoverCardTrigger,T as Root,H as Trigger,h as createHoverCardScope};
//# sourceMappingURL=index.mjs.js.map
