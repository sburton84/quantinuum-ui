'use client';
import*as e from"react";import{useComposedRefs as r}from"../../../../../@radix-ui_react-compose-ref_531e21d4c5e41774790b7ade2915befe/node_modules/@radix-ui/react-compose-refs/dist/index.mjs.js";import{createContextScope as t}from"../../../../../@radix-ui_react-context@1.1_013791a088c4fd00402cc5bf12a3fc8d/node_modules/@radix-ui/react-context/dist/index.mjs.js";import{composeEventHandlers as o}from"../../../../../@radix-ui_primitive@1.1.3/node_modules/@radix-ui/primitive/dist/index.mjs.js";import{useControllableState as d}from"../../../../../@radix-ui_react-use-control_0b34401ea70cad34f098c9d931d840c9/node_modules/@radix-ui/react-use-controllable-state/dist/index.mjs.js";import{usePrevious as n}from"../../../../../@radix-ui_react-use-previou_ccdd794895fe70d49dd67a308f450959/node_modules/@radix-ui/react-use-previous/dist/index.mjs.js";import{useSize as a}from"../../../../../@radix-ui_react-use-size@1._bdbbcfd204ce189a6392d915cfdd04f4/node_modules/@radix-ui/react-use-size/dist/index.mjs.js";import{Presence as i}from"../../../../../@radix-ui_react-presence@1._f4bce12bb8d2a0530a33b49f48bbe93f/node_modules/@radix-ui/react-presence/dist/index.mjs.js";import{Primitive as c}from"../../../../../@radix-ui_react-primitive@2_8827551f88f8a44c5b480e0d8a5a4518/node_modules/@radix-ui/react-primitive/dist/index.mjs.js";import{jsx as s,jsxs as u,Fragment as l}from"react/jsx-runtime";var b="Checkbox",[f,p]=t(b),[m,h]=f(b);function _(r){const{__scopeCheckbox:t,checked:o,children:n,defaultChecked:a,disabled:i,form:c,name:u,onCheckedChange:l,required:f,value:p="on",internal_do_not_use_render:h}=r,[_,x]=d({prop:o,defaultProp:a??!1,onChange:l,caller:b}),[k,C]=e.useState(null),[v,j]=e.useState(null),g=e.useRef(!1),y=!k||(!!c||!!k.closest("form")),w={checked:_,disabled:i,setChecked:x,control:k,setControl:C,name:u,form:c,value:p,hasConsumerStoppedPropagationRef:g,required:f,defaultChecked:!R(a)&&a,isFormControl:y,bubbleInput:v,setBubbleInput:j};return s(m,{scope:t,...w,children:I(h)?h(w):n})}var x="CheckboxTrigger",k=e.forwardRef(({__scopeCheckbox:t,onKeyDown:d,onClick:n,...a},i)=>{const{control:u,value:l,disabled:b,checked:f,required:p,setControl:m,setChecked:_,hasConsumerStoppedPropagationRef:k,isFormControl:C,bubbleInput:v}=h(x,t),j=r(i,m),g=e.useRef(f);return e.useEffect(()=>{const e=u?.form;if(e){const r=()=>_(g.current);return e.addEventListener("reset",r),()=>e.removeEventListener("reset",r)}},[u,_]),s(c.button,{type:"button",role:"checkbox","aria-checked":R(f)?"mixed":f,"aria-required":p,"data-state":w(f),"data-disabled":b?"":void 0,disabled:b,value:l,...a,ref:j,onKeyDown:o(d,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:o(n,e=>{_(e=>!!R(e)||!e),v&&C&&(k.current=e.isPropagationStopped(),k.current||e.stopPropagation())})})});k.displayName=x;var C=e.forwardRef((e,r)=>{const{__scopeCheckbox:t,name:o,checked:d,defaultChecked:n,required:a,disabled:i,value:c,onCheckedChange:b,form:f,...p}=e;return s(_,{__scopeCheckbox:t,checked:d,defaultChecked:n,disabled:i,required:a,onCheckedChange:b,name:o,form:f,value:c,internal_do_not_use_render:({isFormControl:e})=>u(l,{children:[s(k,{...p,ref:r,__scopeCheckbox:t}),e&&s(y,{__scopeCheckbox:t})]})})});C.displayName=b;var v="CheckboxIndicator",j=e.forwardRef((e,r)=>{const{__scopeCheckbox:t,forceMount:o,...d}=e,n=h(v,t);return s(i,{present:o||R(n.checked)||!0===n.checked,children:s(c.span,{"data-state":w(n.checked),"data-disabled":n.disabled?"":void 0,...d,ref:r,style:{pointerEvents:"none",...e.style}})})});j.displayName=v;var g="CheckboxBubbleInput",y=e.forwardRef(({__scopeCheckbox:t,...o},d)=>{const{control:i,hasConsumerStoppedPropagationRef:u,checked:l,defaultChecked:b,required:f,disabled:p,name:m,value:_,form:x,bubbleInput:k,setBubbleInput:C}=h(g,t),v=r(d,C),j=n(l),y=a(i);e.useEffect(()=>{const e=k;if(!e)return;const r=window.HTMLInputElement.prototype,t=Object.getOwnPropertyDescriptor(r,"checked").set,o=!u.current;if(j!==l&&t){const r=new Event("click",{bubbles:o});e.indeterminate=R(l),t.call(e,!R(l)&&l),e.dispatchEvent(r)}},[k,j,l,u]);const I=e.useRef(!R(l)&&l);return s(c.input,{type:"checkbox","aria-hidden":!0,defaultChecked:b??I.current,required:f,disabled:p,name:m,value:_,form:x,...o,tabIndex:-1,ref:v,style:{...o.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function I(e){return"function"==typeof e}function R(e){return"indeterminate"===e}function w(e){return R(e)?"indeterminate":e?"checked":"unchecked"}y.displayName=g;export{C as Checkbox,j as CheckboxIndicator,j as Indicator,C as Root,p as createCheckboxScope,y as unstable_BubbleInput,y as unstable_CheckboxBubbleInput,_ as unstable_CheckboxProvider,k as unstable_CheckboxTrigger,_ as unstable_Provider,k as unstable_Trigger};
//# sourceMappingURL=index.mjs.js.map
