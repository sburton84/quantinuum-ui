import{getDefaultOptions as t}from"./_lib/defaultOptions.mjs.js";import{formatters as e}from"./_lib/format/formatters.mjs.js";export{formatters}from"./_lib/format/formatters.mjs.js";import{longFormatters as o}from"./_lib/format/longFormatters.mjs.js";export{longFormatters}from"./_lib/format/longFormatters.mjs.js";import{isProtectedWeekYearToken as r,isProtectedDayOfYearToken as a,warnOrThrowProtectedError as s}from"./_lib/protectedTokens.mjs.js";import{isValid as n}from"./isValid.mjs.js";import{toDate as i}from"./toDate.mjs.js";import{enUS as l}from"./locale/en-US.mjs.js";const m=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,f=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,c=/^'([^]*?)'?$/,p=/''/g,u=/[a-zA-Z]/;function j(c,p,j){const d=t(),g=j?.locale??d.locale??l,w=j?.firstWeekContainsDate??j?.locale?.options?.firstWeekContainsDate??d.firstWeekContainsDate??d.locale?.options?.firstWeekContainsDate??1,h=j?.weekStartsOn??j?.locale?.options?.weekStartsOn??d.weekStartsOn??d.locale?.options?.weekStartsOn??0,D=i(c);if(!n(D))throw new RangeError("Invalid time value");let v=p.match(f).map(t=>{const e=t[0];if("p"===e||"P"===e){return(0,o[e])(t,g.formatLong)}return t}).join("").match(m).map(t=>{if("''"===t)return{isToken:!1,value:"'"};const o=t[0];if("'"===o)return{isToken:!1,value:k(t)};if(e[o])return{isToken:!0,value:t};if(o.match(u))throw new RangeError("Format string contains an unescaped latin alphabet character `"+o+"`");return{isToken:!1,value:t}});g.localize.preprocessor&&(v=g.localize.preprocessor(D,v));const T={firstWeekContainsDate:w,weekStartsOn:h,locale:g};return v.map(t=>{if(!t.isToken)return t.value;const o=t.value;(!j?.useAdditionalWeekYearTokens&&r(o)||!j?.useAdditionalDayOfYearTokens&&a(o))&&s(o,p,String(c));return(0,e[o[0]])(D,o,g.localize,T)}).join("")}function k(t){const e=t.match(c);return e?e[1].replace(p,"'"):t}export{j as default,j as format,j as formatDate};
//# sourceMappingURL=format.mjs.js.map
