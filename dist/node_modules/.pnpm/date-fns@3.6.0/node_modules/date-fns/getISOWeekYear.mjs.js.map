{"version":3,"file":"getISOWeekYear.mjs.js","sources":["../../../../../../node_modules/.pnpm/date-fns@3.6.0/node_modules/date-fns/getISOWeekYear.mjs"],"sourcesContent":["import { constructFrom } from \"./constructFrom.mjs\";\nimport { startOfISOWeek } from \"./startOfISOWeek.mjs\";\nimport { toDate } from \"./toDate.mjs\";\n\n/**\n * @name getISOWeekYear\n * @category ISO Week-Numbering Year Helpers\n * @summary Get the ISO week-numbering year of the given date.\n *\n * @description\n * Get the ISO week-numbering year of the given date,\n * which always starts 3 days before the year's first Thursday.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The given date\n *\n * @returns The ISO week-numbering year\n *\n * @example\n * // Which ISO-week numbering year is 2 January 2005?\n * const result = getISOWeekYear(new Date(2005, 0, 2))\n * //=> 2004\n */\nexport function getISOWeekYear(date) {\n  const _date = toDate(date);\n  const year = _date.getFullYear();\n\n  const fourthOfJanuaryOfNextYear = constructFrom(date, 0);\n  fourthOfJanuaryOfNextYear.setFullYear(year + 1, 0, 4);\n  fourthOfJanuaryOfNextYear.setHours(0, 0, 0, 0);\n  const startOfNextYear = startOfISOWeek(fourthOfJanuaryOfNextYear);\n\n  const fourthOfJanuaryOfThisYear = constructFrom(date, 0);\n  fourthOfJanuaryOfThisYear.setFullYear(year, 0, 4);\n  fourthOfJanuaryOfThisYear.setHours(0, 0, 0, 0);\n  const startOfThisYear = startOfISOWeek(fourthOfJanuaryOfThisYear);\n\n  if (_date.getTime() >= startOfNextYear.getTime()) {\n    return year + 1;\n  } else if (_date.getTime() >= startOfThisYear.getTime()) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}\n\n// Fallback for modularized imports:\nexport default getISOWeekYear;\n"],"names":["getISOWeekYear","date","_date","toDate","year","getFullYear","fourthOfJanuaryOfNextYear","constructFrom","setFullYear","setHours","startOfNextYear","startOfISOWeek","fourthOfJanuaryOfThisYear","startOfThisYear","getTime"],"mappings":"yJA0BO,SAASA,EAAeC,GAC7B,MAAMC,EAAQC,EAAOF,GACfG,EAAOF,EAAMG,cAEbC,EAA4BC,EAAcN,EAAM,GACtDK,EAA0BE,YAAYJ,EAAO,EAAG,EAAG,GACnDE,EAA0BG,SAAS,EAAG,EAAG,EAAG,GAC5C,MAAMC,EAAkBC,EAAeL,GAEjCM,EAA4BL,EAAcN,EAAM,GACtDW,EAA0BJ,YAAYJ,EAAM,EAAG,GAC/CQ,EAA0BH,SAAS,EAAG,EAAG,EAAG,GAC5C,MAAMI,EAAkBF,EAAeC,GAEvC,OAAIV,EAAMY,WAAaJ,EAAgBI,UAC9BV,EAAO,EACLF,EAAMY,WAAaD,EAAgBC,UACrCV,EAEAA,EAAO,CAElB"}