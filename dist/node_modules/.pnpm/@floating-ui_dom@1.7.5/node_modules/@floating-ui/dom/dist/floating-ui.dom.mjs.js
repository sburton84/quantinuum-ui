import{offset as t,autoPlacement as e,shift as i,flip as n,size as o,hide as r,arrow as l,inline as s,limitShift as c,computePosition as f}from"../../../../../@floating-ui_core@1.7.4/node_modules/@floating-ui/core/dist/floating-ui.core.mjs.js";import{createCoords as u,rectToClientRect as h,round as a,floor as d,max as g,min as p}from"../../../../../@floating-ui_utils@0.2.10/node_modules/@floating-ui/utils/dist/floating-ui.utils.mjs.js";import{getOverflowAncestors as m,isElement as y,getWindow as x,getFrameElement as w,getComputedStyle as v,getDocumentElement as b,isHTMLElement as R,isWebKit as L,isTopLayer as T,getNodeName as C,isOverflowElement as F,getNodeScroll as W,getParentNode as E,isLastTraversableNode as _,isTableElement as O,isContainingBlock as S,getContainingBlock as j}from"../../../../../@floating-ui_utils@0.2.10/node_modules/@floating-ui/utils/dist/floating-ui.utils.dom.mjs.js";export{getOverflowAncestors}from"../../../../../@floating-ui_utils@0.2.10/node_modules/@floating-ui/utils/dist/floating-ui.utils.dom.mjs.js";function H(t){const e=v(t);let i=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const o=R(t),r=o?t.offsetWidth:i,l=o?t.offsetHeight:n,s=a(i)!==r||a(n)!==l;return s&&(i=r,n=l),{width:i,height:n,$:s}}function z(t){return y(t)?t:t.contextElement}function A(t){const e=z(t);if(!R(e))return u(1);const i=e.getBoundingClientRect(),{width:n,height:o,$:r}=H(e);let l=(r?a(i.width):i.width)/n,s=(r?a(i.height):i.height)/o;return l&&Number.isFinite(l)||(l=1),s&&Number.isFinite(s)||(s=1),{x:l,y:s}}const B=u(0);function D(t){const e=x(t);return L()&&e.visualViewport?{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}:B}function P(t,e,i,n){void 0===e&&(e=!1),void 0===i&&(i=!1);const o=t.getBoundingClientRect(),r=z(t);let l=u(1);e&&(n?y(n)&&(l=A(n)):l=A(t));const s=function(t,e,i){return void 0===e&&(e=!1),!(!i||e&&i!==x(t))&&e}(r,i,n)?D(r):u(0);let c=(o.left+s.x)/l.x,f=(o.top+s.y)/l.y,a=o.width/l.x,d=o.height/l.y;if(r){const t=x(r),e=n&&y(n)?x(n):n;let i=t,o=w(i);for(;o&&n&&e!==i;){const t=A(o),e=o.getBoundingClientRect(),n=v(o),r=e.left+(o.clientLeft+parseFloat(n.paddingLeft))*t.x,l=e.top+(o.clientTop+parseFloat(n.paddingTop))*t.y;c*=t.x,f*=t.y,a*=t.x,d*=t.y,c+=r,f+=l,i=x(o),o=w(i)}}return h({width:a,height:d,x:c,y:f})}function V(t,e){const i=W(t).scrollLeft;return e?e.left+i:P(b(t)).left+i}function M(t,e){const i=t.getBoundingClientRect();return{x:i.left+e.scrollLeft-V(t,i),y:i.top+e.scrollTop}}const I=new Set(["absolute","fixed"]);function q(t,e,i){let n;if("viewport"===e)n=function(t,e){const i=x(t),n=b(t),o=i.visualViewport;let r=n.clientWidth,l=n.clientHeight,s=0,c=0;if(o){r=o.width,l=o.height;const t=L();(!t||t&&"fixed"===e)&&(s=o.offsetLeft,c=o.offsetTop)}const f=V(n);if(f<=0){const t=n.ownerDocument,e=t.body,i=getComputedStyle(e),o="CSS1Compat"===t.compatMode&&parseFloat(i.marginLeft)+parseFloat(i.marginRight)||0,l=Math.abs(n.clientWidth-e.clientWidth-o);l<=25&&(r-=l)}else f<=25&&(r+=f);return{width:r,height:l,x:s,y:c}}(t,i);else if("document"===e)n=function(t){const e=b(t),i=W(t),n=t.ownerDocument.body,o=g(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),r=g(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let l=-i.scrollLeft+V(t);const s=-i.scrollTop;return"rtl"===v(n).direction&&(l+=g(e.clientWidth,n.clientWidth)-o),{width:o,height:r,x:l,y:s}}(b(t));else if(y(e))n=function(t,e){const i=P(t,!0,"fixed"===e),n=i.top+t.clientTop,o=i.left+t.clientLeft,r=R(t)?A(t):u(1);return{width:t.clientWidth*r.x,height:t.clientHeight*r.y,x:o*r.x,y:n*r.y}}(e,i);else{const i=D(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return h(n)}function N(t,e){const i=E(t);return!(i===e||!y(i)||_(i))&&("fixed"===v(i).position||N(i,e))}function $(t,e,i){const n=R(e),o=b(e),r="fixed"===i,l=P(t,!0,r,e);let s={scrollLeft:0,scrollTop:0};const c=u(0);function f(){c.x=V(o)}if(n||!n&&!r)if(("body"!==C(e)||F(o))&&(s=W(e)),n){const t=P(e,!0,r,e);c.x=t.x+e.clientLeft,c.y=t.y+e.clientTop}else o&&f();r&&!n&&o&&f();const h=!o||n||r?u(0):M(o,s);return{x:l.left+s.scrollLeft-c.x-h.x,y:l.top+s.scrollTop-c.y-h.y,width:l.width,height:l.height}}function k(t){return"static"===v(t).position}function G(t,e){if(!R(t)||"fixed"===v(t).position)return null;if(e)return e(t);let i=t.offsetParent;return b(t)===i&&(i=i.ownerDocument.body),i}function J(t,e){const i=x(t);if(T(t))return i;if(!R(t)){let e=E(t);for(;e&&!_(e);){if(y(e)&&!k(e))return e;e=E(e)}return i}let n=G(t,e);for(;n&&O(n)&&k(n);)n=G(n,e);return n&&_(n)&&k(n)&&!S(n)?i:n||j(t)||i}const K={convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{elements:e,rect:i,offsetParent:n,strategy:o}=t;const r="fixed"===o,l=b(n),s=!!e&&T(e.floating);if(n===l||s&&r)return i;let c={scrollLeft:0,scrollTop:0},f=u(1);const h=u(0),a=R(n);if((a||!a&&!r)&&(("body"!==C(n)||F(l))&&(c=W(n)),R(n))){const t=P(n);f=A(n),h.x=t.x+n.clientLeft,h.y=t.y+n.clientTop}const d=!l||a||r?u(0):M(l,c);return{width:i.width*f.x,height:i.height*f.y,x:i.x*f.x-c.scrollLeft*f.x+h.x+d.x,y:i.y*f.y-c.scrollTop*f.y+h.y+d.y}},getDocumentElement:b,getClippingRect:function(t){let{element:e,boundary:i,rootBoundary:n,strategy:o}=t;const r=[..."clippingAncestors"===i?T(e)?[]:function(t,e){const i=e.get(t);if(i)return i;let n=m(t,[],!1).filter(t=>y(t)&&"body"!==C(t)),o=null;const r="fixed"===v(t).position;let l=r?E(t):t;for(;y(l)&&!_(l);){const e=v(l),i=S(l);i||"fixed"!==e.position||(o=null),(r?!i&&!o:!i&&"static"===e.position&&o&&I.has(o.position)||F(l)&&!i&&N(t,l))?n=n.filter(t=>t!==l):o=e,l=E(l)}return e.set(t,n),n}(e,this._c):[].concat(i),n],l=r[0],s=r.reduce((t,i)=>{const n=q(e,i,o);return t.top=g(n.top,t.top),t.right=p(n.right,t.right),t.bottom=p(n.bottom,t.bottom),t.left=g(n.left,t.left),t},q(e,l,o));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}},getOffsetParent:J,getElementRects:async function(t){const e=this.getOffsetParent||J,i=this.getDimensions,n=await i(t.floating);return{reference:$(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}},getClientRects:function(t){return Array.from(t.getClientRects())},getDimensions:function(t){const{width:e,height:i}=H(t);return{width:e,height:i}},getScale:A,isElement:y,isRTL:function(t){return"rtl"===v(t).direction}};function Q(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function U(t,e,i,n){void 0===n&&(n={});const{ancestorScroll:o=!0,ancestorResize:r=!0,elementResize:l="function"==typeof ResizeObserver,layoutShift:s="function"==typeof IntersectionObserver,animationFrame:c=!1}=n,f=z(t),u=o||r?[...f?m(f):[],...m(e)]:[];u.forEach(t=>{o&&t.addEventListener("scroll",i,{passive:!0}),r&&t.addEventListener("resize",i)});const h=f&&s?function(t,e){let i,n=null;const o=b(t);function r(){var t;clearTimeout(i),null==(t=n)||t.disconnect(),n=null}return function l(s,c){void 0===s&&(s=!1),void 0===c&&(c=1),r();const f=t.getBoundingClientRect(),{left:u,top:h,width:a,height:m}=f;if(s||e(),!a||!m)return;const y={rootMargin:-d(h)+"px "+-d(o.clientWidth-(u+a))+"px "+-d(o.clientHeight-(h+m))+"px "+-d(u)+"px",threshold:g(0,p(1,c))||1};let x=!0;function w(e){const n=e[0].intersectionRatio;if(n!==c){if(!x)return l();n?l(!1,n):i=setTimeout(()=>{l(!1,1e-7)},1e3)}1!==n||Q(f,t.getBoundingClientRect())||l(),x=!1}try{n=new IntersectionObserver(w,{...y,root:o.ownerDocument})}catch(t){n=new IntersectionObserver(w,y)}n.observe(t)}(!0),r}(f,i):null;let a,y=-1,x=null;l&&(x=new ResizeObserver(t=>{let[n]=t;n&&n.target===f&&x&&(x.unobserve(e),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var t;null==(t=x)||t.observe(e)})),i()}),f&&!c&&x.observe(f),x.observe(e));let w=c?P(t):null;return c&&function e(){const n=P(t);w&&!Q(w,n)&&i();w=n,a=requestAnimationFrame(e)}(),i(),()=>{var t;u.forEach(t=>{o&&t.removeEventListener("scroll",i),r&&t.removeEventListener("resize",i)}),null==h||h(),null==(t=x)||t.disconnect(),x=null,c&&cancelAnimationFrame(a)}}const X=t,Y=i,Z=n,tt=o,et=r,it=l,nt=c,ot=(t,e,i)=>{const n=new Map,o={platform:K,...i},r={...o.platform,_c:n};return f(t,e,{...o,platform:r})};export{it as arrow,U as autoUpdate,ot as computePosition,Z as flip,et as hide,nt as limitShift,X as offset,K as platform,Y as shift,tt as size};
//# sourceMappingURL=floating-ui.dom.mjs.js.map
