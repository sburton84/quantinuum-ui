'use client';
import e from"react";import{createContextScope as r}from"../../../../../@radix-ui_react-context@1.1_013791a088c4fd00402cc5bf12a3fc8d/node_modules/@radix-ui/react-context/dist/index.mjs.js";import{useComposedRefs as t}from"../../../../../@radix-ui_react-compose-ref_531e21d4c5e41774790b7ade2915befe/node_modules/@radix-ui/react-compose-refs/dist/index.mjs.js";import{createSlot as o}from"../../../../../@radix-ui_react-slot@1.2.3_@types_react@18.3.28_react@18.3.1/node_modules/@radix-ui/react-slot/dist/index.mjs.js";import{jsx as c}from"react/jsx-runtime";function i(i){const n=i+"CollectionProvider",[l,s]=r(n),[a,d]=l(n,{collectionRef:{current:null},itemMap:new Map}),f=r=>{const{scope:t,children:o}=r,i=e.useRef(null),n=e.useRef(new Map).current;return c(a,{scope:t,itemMap:n,collectionRef:i,children:o})};f.displayName=n;const u=i+"CollectionSlot",m=o(u),p=e.forwardRef((e,r)=>{const{scope:o,children:i}=e,n=d(u,o),l=t(r,n.collectionRef);return c(m,{ref:l,children:i})});p.displayName=u;const x=i+"CollectionItemSlot",_="data-radix-collection-item",R=o(x),M=e.forwardRef((r,o)=>{const{scope:i,children:n,...l}=r,s=e.useRef(null),a=t(o,s),f=d(x,i);return e.useEffect(()=>(f.itemMap.set(s,{ref:s,...l}),()=>{f.itemMap.delete(s)})),c(R,{[_]:"",ref:a,children:n})});return M.displayName=x,[{Provider:f,Slot:p,ItemSlot:M},function(r){const t=d(i+"CollectionConsumer",r);return e.useCallback(()=>{const e=t.collectionRef.current;if(!e)return[];const r=Array.from(e.querySelectorAll(`[${_}]`));return Array.from(t.itemMap.values()).sort((e,t)=>r.indexOf(e.ref.current)-r.indexOf(t.ref.current))},[t.collectionRef,t.itemMap])},s]}export{i as createCollection};
//# sourceMappingURL=index.mjs.js.map
