'use client';
import*as e from"react";import{composeEventHandlers as t}from"../../../../../@radix-ui_primitive@1.1.3/node_modules/@radix-ui/primitive/dist/index.mjs.js";import{useComposedRefs as r}from"../../../../../@radix-ui_react-compose-ref_531e21d4c5e41774790b7ade2915befe/node_modules/@radix-ui/react-compose-refs/dist/index.mjs.js";import{createContextScope as o}from"../../../../../@radix-ui_react-context@1.1_013791a088c4fd00402cc5bf12a3fc8d/node_modules/@radix-ui/react-context/dist/index.mjs.js";import{DismissableLayer as n}from"../../../../../@radix-ui_react-dismissable_5d000c10c02cdc0d4dacfce3cf09d956/node_modules/@radix-ui/react-dismissable-layer/dist/index.mjs.js";import{useId as i}from"../../../../../@radix-ui_react-id@1.1.1_@types_react@18.3.28_react@18.3.1/node_modules/@radix-ui/react-id/dist/index.mjs.js";import{createPopperScope as a,Anchor as s,Content as c,Arrow as d,Root as l}from"../../../../../@radix-ui_react-popper@1.2._670e32d9a64ee24e3a22b3ad7ddf00ff/node_modules/@radix-ui/react-popper/dist/index.mjs.js";import{Presence as u}from"../../../../../@radix-ui_react-presence@1._f4bce12bb8d2a0530a33b49f48bbe93f/node_modules/@radix-ui/react-presence/dist/index.mjs.js";import{Primitive as p}from"../../../../../@radix-ui_react-primitive@2_8827551f88f8a44c5b480e0d8a5a4518/node_modules/@radix-ui/react-primitive/dist/index.mjs.js";import{createSlottable as f}from"../../../../../@radix-ui_react-slot@1.2.3_@types_react@18.3.28_react@18.3.1/node_modules/@radix-ui/react-slot/dist/index.mjs.js";import{useControllableState as m}from"../../../../../@radix-ui_react-use-control_0b34401ea70cad34f098c9d931d840c9/node_modules/@radix-ui/react-use-controllable-state/dist/index.mjs.js";import{Root as x}from"../../../../../@radix-ui_react-visually-hi_20e51f345ec6c8aedb80070ad020dacb/node_modules/@radix-ui/react-visually-hidden/dist/index.mjs.js";import{jsx as h,jsxs as b}from"react/jsx-runtime";var[y,g]=o("Tooltip",[a]),v=a(),_="TooltipProvider",w=700,C="tooltip.open",[T,E]=y(_),j=t=>{const{__scopeTooltip:r,delayDuration:o=w,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:a}=t,s=e.useRef(!0),c=e.useRef(!1),d=e.useRef(0);return e.useEffect(()=>{const e=d.current;return()=>window.clearTimeout(e)},[]),h(T,{scope:r,isOpenDelayedRef:s,delayDuration:o,onOpen:e.useCallback(()=>{window.clearTimeout(d.current),s.current=!1},[]),onClose:e.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>s.current=!0,n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:e.useCallback(e=>{c.current=e},[]),disableHoverableContent:i,children:a})};j.displayName=_;var R="Tooltip",[k,D]=y(R),L=t=>{const{__scopeTooltip:r,children:o,open:n,defaultOpen:a,onOpenChange:s,disableHoverableContent:c,delayDuration:d}=t,u=E(R,t.__scopeTooltip),p=v(r),[f,x]=e.useState(null),b=i(),y=e.useRef(0),g=c??u.disableHoverableContent,_=d??u.delayDuration,w=e.useRef(!1),[T,j]=m({prop:n,defaultProp:a??!1,onChange:e=>{e?(u.onOpen(),document.dispatchEvent(new CustomEvent(C))):u.onClose(),s?.(e)},caller:R}),D=e.useMemo(()=>T?w.current?"delayed-open":"instant-open":"closed",[T]),L=e.useCallback(()=>{window.clearTimeout(y.current),y.current=0,w.current=!1,j(!0)},[j]),P=e.useCallback(()=>{window.clearTimeout(y.current),y.current=0,j(!1)},[j]),O=e.useCallback(()=>{window.clearTimeout(y.current),y.current=window.setTimeout(()=>{w.current=!0,j(!0),y.current=0},_)},[_,j]);return e.useEffect(()=>()=>{y.current&&(window.clearTimeout(y.current),y.current=0)},[]),h(l,{...p,children:h(k,{scope:r,contentId:b,open:T,stateAttribute:D,trigger:f,onTriggerChange:x,onTriggerEnter:e.useCallback(()=>{u.isOpenDelayedRef.current?O():L()},[u.isOpenDelayedRef,O,L]),onTriggerLeave:e.useCallback(()=>{g?P():(window.clearTimeout(y.current),y.current=0)},[P,g]),onOpen:L,onClose:P,disableHoverableContent:g,children:o})})};L.displayName=R;var P="TooltipTrigger",O=e.forwardRef((o,n)=>{const{__scopeTooltip:i,...a}=o,c=D(P,i),d=E(P,i),l=v(i),u=e.useRef(null),f=r(n,u,c.onTriggerChange),m=e.useRef(!1),x=e.useRef(!1),b=e.useCallback(()=>m.current=!1,[]);return e.useEffect(()=>()=>document.removeEventListener("pointerup",b),[b]),h(s,{asChild:!0,...l,children:h(p.button,{"aria-describedby":c.open?c.contentId:void 0,"data-state":c.stateAttribute,...a,ref:f,onPointerMove:t(o.onPointerMove,e=>{"touch"!==e.pointerType&&(x.current||d.isPointerInTransitRef.current||(c.onTriggerEnter(),x.current=!0))}),onPointerLeave:t(o.onPointerLeave,()=>{c.onTriggerLeave(),x.current=!1}),onPointerDown:t(o.onPointerDown,()=>{c.open&&c.onClose(),m.current=!0,document.addEventListener("pointerup",b,{once:!0})}),onFocus:t(o.onFocus,()=>{m.current||c.onOpen()}),onBlur:t(o.onBlur,c.onClose),onClick:t(o.onClick,c.onClose)})})});O.displayName=P;var[M,I]=y("TooltipPortal",{forceMount:void 0}),H="TooltipContent",N=e.forwardRef((e,t)=>{const r=I(H,e.__scopeTooltip),{forceMount:o=r.forceMount,side:n="top",...i}=e,a=D(H,e.__scopeTooltip);return h(u,{present:o||a.open,children:a.disableHoverableContent?h(S,{side:n,...i,ref:t}):h(A,{side:n,...i,ref:t})})}),A=e.forwardRef((t,o)=>{const n=D(H,t.__scopeTooltip),i=E(H,t.__scopeTooltip),a=e.useRef(null),s=r(o,a),[c,d]=e.useState(null),{trigger:l,onClose:u}=n,p=a.current,{onPointerInTransitChange:f}=i,m=e.useCallback(()=>{d(null),f(!1)},[f]),x=e.useCallback((e,t)=>{const r=e.currentTarget,o={x:e.clientX,y:e.clientY},n=function(e,t,r=5){const o=[];switch(t){case"top":o.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":o.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":o.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":o.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r})}return o}(o,function(e,t){const r=Math.abs(t.top-e.y),o=Math.abs(t.bottom-e.y),n=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,o,n,i)){case i:return"left";case n:return"right";case r:return"top";case o:return"bottom";default:throw new Error("unreachable")}}(o,r.getBoundingClientRect())),i=function(e){const t=e.slice();return t.sort((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:e.y>t.y?1:0),function(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const o=e[r];for(;t.length>=2;){const e=t[t.length-1],r=t[t.length-2];if(!((e.x-r.x)*(o.y-r.y)>=(e.y-r.y)*(o.x-r.x)))break;t.pop()}t.push(o)}t.pop();const r=[];for(let t=e.length-1;t>=0;t--){const o=e[t];for(;r.length>=2;){const e=r[r.length-1],t=r[r.length-2];if(!((e.x-t.x)*(o.y-t.y)>=(e.y-t.y)*(o.x-t.x)))break;r.pop()}r.push(o)}return r.pop(),1===t.length&&1===r.length&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}(t)}([...n,...function(e){const{top:t,right:r,bottom:o,left:n}=e;return[{x:n,y:t},{x:r,y:t},{x:r,y:o},{x:n,y:o}]}(t.getBoundingClientRect())]);d(i),f(!0)},[f]);return e.useEffect(()=>()=>m(),[m]),e.useEffect(()=>{if(l&&p){const e=e=>x(e,p),t=e=>x(e,l);return l.addEventListener("pointerleave",e),p.addEventListener("pointerleave",t),()=>{l.removeEventListener("pointerleave",e),p.removeEventListener("pointerleave",t)}}},[l,p,x,m]),e.useEffect(()=>{if(c){const e=e=>{const t=e.target,r={x:e.clientX,y:e.clientY},o=l?.contains(t)||p?.contains(t),n=!function(e,t){const{x:r,y:o}=e;let n=!1;for(let e=0,i=t.length-1;e<t.length;i=e++){const a=t[e],s=t[i],c=a.x,d=a.y,l=s.x,u=s.y;d>o!=u>o&&r<(l-c)*(o-d)/(u-d)+c&&(n=!n)}return n}(r,c);o?m():n&&(m(),u())};return document.addEventListener("pointermove",e),()=>document.removeEventListener("pointermove",e)}},[l,p,c,u,m]),h(S,{...t,ref:s})}),[B,F]=y(R,{isInside:!1}),K=f("TooltipContent"),S=e.forwardRef((t,r)=>{const{__scopeTooltip:o,children:i,"aria-label":a,onEscapeKeyDown:s,onPointerDownOutside:d,...l}=t,u=D(H,o),p=v(o),{onClose:f}=u;return e.useEffect(()=>(document.addEventListener(C,f),()=>document.removeEventListener(C,f)),[f]),e.useEffect(()=>{if(u.trigger){const e=e=>{const t=e.target;t?.contains(u.trigger)&&f()};return window.addEventListener("scroll",e,{capture:!0}),()=>window.removeEventListener("scroll",e,{capture:!0})}},[u.trigger,f]),h(n,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:d,onFocusOutside:e=>e.preventDefault(),onDismiss:f,children:b(c,{"data-state":u.stateAttribute,...p,...l,ref:r,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[h(K,{children:i}),h(B,{scope:o,isInside:!0,children:h(x,{id:u.contentId,role:"tooltip",children:a||i})})]})})});N.displayName=H;var X="TooltipArrow",Y=e.forwardRef((e,t)=>{const{__scopeTooltip:r,...o}=e,n=v(r);return F(X,r).isInside?null:h(d,{...n,...o,ref:t})});Y.displayName=X;var q=j,z=L,G=O,J=N;export{J as Content,q as Provider,z as Root,L as Tooltip,Y as TooltipArrow,N as TooltipContent,j as TooltipProvider,O as TooltipTrigger,G as Trigger,g as createTooltipScope};
//# sourceMappingURL=index.mjs.js.map
